<!-- Toolbar -->
<div class="container d-flex">
    <form [formGroup]="searchForm" class="form-inline">
        <div class="form-group mb-2">
            <select class="custom-select my-1 mr-lg-2" id="maker" formControlName="maker" (change)="onMakerChange()">
                <option value="" selected>Select Car Maker... </option>
                <option [value]="maker" *ngFor="let maker of makers">{{maker}}</option>
            </select>
        </div>
        <div class="form-group mx-sm-3 mb-2">
            <select class="custom-select my-1 mr-lg-2" id="model" formControlName="model" (change)="onModelChange()">
                <option value="" selected>Select Car Model... </option>
                <option [value]="model" *ngFor="let model of models">{{model}}</option>
            </select>
        </div>
        <div class="form-group mx-sm-3 mb-2">
            <select class="custom-select my-1 mr-lg-2" id="priceRange" formControlName="priceRange">
                <option value="" selected>Select Price Range... </option>
                <option [value]="range" *ngFor="let range of priceRanges">{{range}}</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary mb-2" (click)="onPriceChange()">Search</button>
    </form>
</div>

<div class="container mt-1 d-flex">
    <div class="table-responsive mx-auto">
        <table class="table mt-2">
            <thead class="table-dark">
                <tr>
                    <th>Maker</th>
                    <th>Model</th>
                    <th>Availability</th>
                    <th>Rental Price</th>
                    <th *ngIf="(utilityService.isLoggedIn() && role==='Admin')">Action</th>
                    <th *ngIf="(utilityService.isLoggedIn() && role==='User')">Action</th>
                </tr>
            </thead>
            <tbody class="table-body">
                <tr *ngFor="let car of cars">
                    <td>{{car.maker}}</td>
                    <td>{{car.model}}</td>
                    <td>{{getAvailabilityLabel(car.availabilityStatus)}}</td>
                    <td>{{car.rentalPrice}}</td>
                    <td *ngIf="(utilityService.isLoggedIn() && role==='Admin')">
                        <div class="btn-container">
                            <button class="btn btn-primary mx-2" (click)="editCar(car.id)">Edit</button>
                            <button class="btn btn-danger mx-2" (click)="deleteCar(car.id)">Delete</button>
                        </div>
                    </td>
                    <td *ngIf="(utilityService.isLoggedIn() && role==='User')">
                        <div class="btn-container">
                            <button class="btn btn-primary" (click)="bookCar(car.id)"
                                [disabled]="getAvailabilityLabel(car.availabilityStatus) !== 'Available'">
                                Book</button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>

    </div>
</div>